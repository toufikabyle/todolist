{"version":3,"sources":["components/layout/HeaderFirebase.js","components/TodoItemFirebase.js","components/TodosFirebase.js","components/AddTodoFirebase.js","components/pages/About.js","firebase.js","AppFirebase.js","index.js"],"names":["headerStyle","background","color","textAlign","padding","linkStyle","textDecoration","Header","react_default","a","createElement","style","Link","to","btnStyle","border","borderRadius","cursor","float","TodoItem","props","useEffect","borderBottom","todo","completed","type","defaultChecked","onChange","markComplete","bind","id","title","onClick","delTodo","Todos","_ref","todos","map","TodoItemFirebase","key","AddTodo","addTodo","_useState","useState","_useState2","Object","slicedToArray","setTitle","onSubmit","e","preventDefault","display","name","flex","placeholder","value","target","className","About","Fragment","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","setTodos","_useState3","_useState4","idOfUpdate","setIdOfUpdate","_useState5","_useState6","truth","setTruth","populate","markCompleteGlobal","firestore","collection","doc","update","console","log","setTimeout","delete","then","catch","error","res","toConsumableArray","filter","datas","set","data","get","querySnapshot","forEach","newData","indexOf","arr","concat","BrowserRouter","HeaderFirebase","Route","exact","path","render","AddTodoFirebase","TodosFirebase","component","ReactDOM","AppFirebase","document","getElementById"],"mappings":"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","file":"static/js/main.da4e75c8.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Header() {\n  return (\n    <header style={headerStyle}>\n      <h1>TodoList</h1>\n      <Link style={linkStyle} to=\"/\">Home</Link> | <Link style={linkStyle} to=\"/about\">About</Link>\n    </header>\n  )\n}\n\nconst headerStyle = {\n  background: '#333',\n  color: '#fff',\n  textAlign: 'center',\n  padding: '10px'\n}\n\nconst linkStyle = {\n  color: '#fff',\n  textDecoration: 'none'\n}\n\nexport default Header;","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TodoItem = (props) => {\n  const getStyle = () => {\n    return {\n      background: \"#f4f4f4\",\n      padding: \"10px\",\n      borderBottom: \"1px #ccc dotted\",\n      textDecoration: props.todo.completed ? \"line-through\" : \"none\",\n    };\n  };\n\n  useEffect(() => {\n    // console.log(props.todo);\n  }, []);\n\n  return (\n    <div style={getStyle()}>\n      <p>\n        <input\n          type=\"checkbox\"\n          defaultChecked={props.todo.completed}\n          onChange={props.markComplete.bind(this, props.todo.id)}\n        />{\" \"}\n        {props.todo.title}\n        <button\n          onClick={props.delTodo.bind(this, props.todo.id)}\n          style={btnStyle}\n          id={props.todo.id}\n        >\n          x\n        </button>\n      </p>\n    </div>\n  );\n};\n\n// PropTypes\nTodoItem.propTypes = {\n  todo: PropTypes.object.isRequired,\n  markComplete: PropTypes.func.isRequired,\n  delTodo: PropTypes.func.isRequired,\n};\n\nconst btnStyle = {\n  background: \"#ff0000\",\n  color: \"#fff\",\n  border: \"none\",\n  padding: \"5px 9px\",\n  borderRadius: \"50%\",\n  cursor: \"pointer\",\n  float: \"right\",\n};\n\nexport default TodoItem;\n","\n\nimport React from \"react\";\nimport TodoItem from \"./TodoItemFirebase\";\nimport PropTypes from \"prop-types\";\n\nconst Todos = ({ todos, markComplete, delTodo }) => {\n  return todos.map((todo) => (\n    <TodoItem\n      key={todo.id}\n      todo={todo}\n      markComplete={markComplete}\n      delTodo={delTodo}\n    />\n  ));\n};\n\n// PropTypes\nTodos.propTypes = {\n  todos: PropTypes.array.isRequired,\n  markComplete: PropTypes.func.isRequired,\n  delTodo: PropTypes.func.isRequired,\n};\n\nexport default Todos;\n\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst AddTodo = ({ addTodo }) => {\n  const [title, setTitle] = useState(\"\");\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    addTodo(title);\n    setTitle(\"\");\n  };\n\n  const onChange = (e) => setTitle(e.target.value);\n\n  return (\n    <form onSubmit={onSubmit} style={{ display: \"flex\" }}>\n      <input\n        type=\"text\"\n        name=\"title\"\n        style={{ flex: \"10\", padding: \"5px\" }}\n        placeholder=\"Add Todo ...\"\n        value={title}\n        onChange={onChange}\n      />\n      <input\n        type=\"submit\"\n        value=\"Submit\"\n        className=\"btn\"\n        style={{ flex: \"1\" }}\n      />\n    </form>\n  );\n};\n\n// PropTypes\nAddTodo.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n};\n\nexport default AddTodo;\n\n","import React from 'react'\n\nfunction About() {\n  return (\n    <React.Fragment>\n      <h1>About</h1>\n      <p>This is the TodoList app v1.0.0. It is part of a React crash course</p>\n    </React.Fragment>\n  )\n}\n\n\nexport default About;","import firebase from \"firebase\";\nimport \"@firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyBIZZAd3AM5IAK5jlcJIkhyN21kQLr1Yvw\",\n  authDomain: \"toufik-416ab.firebaseapp.com\",\n  projectId: \"toufik-416ab\",\n  storageBucket: \"toufik-416ab.appspot.com\",\n  messagingSenderId: \"298587771574\",\n  appId: \"1:298587771574:web:57398669d73f5f5b634c17\",\n};\n// Initialize Firebase\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Header from \"./components/layout/HeaderFirebase\";\nimport Todos from \"./components/TodosFirebase\";\nimport AddTodo from \"./components/AddTodoFirebase\";\nimport About from \"./components/pages/About\";\nimport firebase from \"./firebase\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [todos, setTodos] = useState([]);\n  const [idOfUpdate, setIdOfUpdate] = useState(null);\n  const [truth, setTruth] = useState();\n\n  useEffect(() => {\n    populate();\n  }, []);\n\n  useEffect(() => {\n    let id = idOfUpdate;\n    if (id !== null) {\n      markCompleteGlobal();\n    }\n  }, [truth]);\n\n  const markCompleteGlobal = () => {\n\n  \n  \n      let id = idOfUpdate;\n    const itemtoupdate = firebase\n      .firestore()\n      .collection(\"t\")\n      .doc(id);\n\n    itemtoupdate.update({\n      completed: truth,\n    });\n  // debugger\n    setIdOfUpdate(null);\n    setTruth(null);\n  };\n\n  // Toggle Complete\n  const markComplete = (id) => {\n    console.log(\"First\", idOfUpdate);\n    setIdOfUpdate(id);\n\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === id) {\n          todo.completed = !todo.completed;\n\n          setTimeout(function() {\n            setTruth(todo.completed);\n          }, 1000);\n        }\n        return todo;\n      })\n    )\n    console.log(\"Second\", idOfUpdate, truth);\n  };\n\n  // Delete Todo\n  const delTodo = (id) => {\n    const db = firebase.firestore();\n    db.collection(\"t\")\n      .doc(id)\n      .delete()\n      .then(() => {\n        console.log(\"Document successfully deleted!\", id);\n      })\n      .catch((error) => {\n        console.error(id, \"Error removing document: \", error);\n      })\n      .then((res) => setTodos([...todos.filter((todo) => todo.id !== id)]));\n    console.log(id, \"here is an id\", id);\n  };\n\n  // Add Todo\n  const addTodo = (title) => {\n    const datas = {\n      id: firebase\n        .firestore()\n        .collection(\"t\")\n        .doc().id,\n    };\n    const db = firebase.firestore();\n    db.collection(\"t\")\n      .doc(datas.id)\n      .set({ title: title, completed: false, id: datas.id })\n      .then(() => {\n        populate();\n      });\n  };\n\n  const populate = (data) => {\n    setTodos([]);\n    return firebase\n      .firestore()\n      .collection(\"t\")\n      .get()\n      .then(function(querySnapshot) {\n        querySnapshot.forEach(function(doc) {\n          let newData = doc.data();\n\n          if (todos.indexOf(newData.id) === -1) {\n            setTodos((arr) => {\n              return [...arr, newData];\n            });\n          } else {\n            console.log(\"this is a duplicate\");\n          }\n          console.log(\"here are all of the todos\", todos);\n        });\n      })\n      .catch((e) => console.log(e));\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"container\">\n          <Header />\n          <Route\n            exact\n            path=\"/\"\n            render={(props) => (\n              <React.Fragment>\n                <AddTodo addTodo={addTodo} />\n                <Todos\n                  todos={todos}\n                  markComplete={markComplete}\n                  delTodo={delTodo}\n                />\n              </React.Fragment>\n            )}\n          />\n          <Route path=\"/about\" component={About} />\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppFirebase from './AppFirebase';\nimport App from \"./App\";\n\nReactDOM.render(<AppFirebase />, document.getElementById('root'));\n"],"sourceRoot":""}